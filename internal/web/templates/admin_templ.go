// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import (
	"fmt"

	"github.com/a-h/templ"
	templruntime "github.com/a-h/templ/runtime"
)

type UserData struct {
	ID            uint
	Email         string
	Name          string
	Role          string
	IsActive      bool
	EmailVerified bool
	Credits       int
	CreatedAt     string
}

type AdminPanelData struct {
	Email string
	Users []UserData
}

func AdminPanel(data AdminPanelData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"container mx-auto px-4 py-8 max-w-7xl\"><div class=\"mb-8 flex justify-between items-center\"><div><h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Admin Panel</h1><p class=\"text-gray-600\">Manage users, roles, and credits</p></div><a href=\"/admin/invitations\" class=\"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium\">ðŸŽ« Invitations</a></div><!-- Filter Controls --><div class=\"bg-white rounded-lg shadow p-6 mb-6\"><h2 class=\"text-xl font-semibold mb-4\">Filters</h2><div class=\"flex gap-4\"><select id=\"roleFilter\" class=\"px-4 py-2 border rounded-lg\" onchange=\"filterUsers()\"><option value=\"\">All Roles</option> <option value=\"admin\">Admin</option> <option value=\"beta\">Beta</option> <option value=\"user\">User</option></select> <select id=\"statusFilter\" class=\"px-4 py-2 border rounded-lg\" onchange=\"filterUsers()\"><option value=\"\">All Status</option> <option value=\"true\">Active</option> <option value=\"false\">Inactive</option></select> <button onclick=\"clearFilters()\" class=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600\">Clear Filters</button></div></div><!-- Users Table --><div class=\"bg-white rounded-lg shadow overflow-hidden\"><table class=\"min-w-full divide-y divide-gray-200\"><thead class=\"bg-gray-50\"><tr><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Role</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Credits</th><th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th></tr></thead> <tbody class=\"bg-white divide-y divide-gray-200\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, user := range data.Users {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<tr class=\"hover:bg-gray-50\"><td class=\"px-6 py-4 text-sm text-gray-900\"><div class=\"flex items-center gap-2\"><span>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var3 string
				templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(user.Email)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 77, Col: 28}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</span> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.EmailVerified {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<span class=\"text-green-600 text-xs\" title=\"Email verified\">âœ“</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</div></td><td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var4 string
				templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(user.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 83, Col: 81}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</td><td class=\"px-6 py-4 whitespace-nowrap\"><select class=\"px-2 py-1 border rounded text-sm\" data-user-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var5 string
				templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 87, Col: 51}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\" onchange=\"updateRole(this.dataset.userId, this.value)\"><option value=\"user\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.Role == "user" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, " selected")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, ">User</option> <option value=\"beta\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.Role == "beta" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, " selected")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, ">Beta</option> <option value=\"admin\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.Role == "admin" {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, " selected")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, ">Admin</option></select></td><td class=\"px-6 py-4 whitespace-nowrap\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.IsActive {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "<span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">Active</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "<span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\">Inactive</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "</td><td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"><span id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 string
				templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("credits-%d", user.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 107, Col: 54}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var7 string
				templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.Credits))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 107, Col: 90}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "</span></td><td class=\"px-6 py-4 text-sm font-medium\"><div class=\"flex gap-1 items-center\"><button data-user-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 string
				templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 112, Col: 52}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "\" data-user-name=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(user.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 113, Col: 37}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\" data-user-email=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var10 string
				templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(user.Email)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 114, Col: 39}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "\" data-user-role=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 string
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(user.Role)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 115, Col: 37}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "\" data-user-active=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var12 string
				templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%t", user.IsActive))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 116, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "\" data-user-credits=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var13 string
				templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.Credits))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 117, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "\" data-user-joined=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var14 string
				templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(user.CreatedAt)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 118, Col: 44}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "\" data-user-verified=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var15 string
				templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%t", user.EmailVerified))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 119, Col: 69}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "\" onclick=\"showDetailsModal(this.dataset)\" class=\"px-2 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded text-xs\">View</button> ")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if user.IsActive {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "<button data-user-id=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var16 string
					templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 127, Col: 53}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "\" onclick=\"toggleActive(this.dataset.userId)\" class=\"px-2 py-1 rounded bg-red-600 hover:bg-red-700 text-white text-xs\">Deactivate</button> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "<button data-user-id=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var17 string
					templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 135, Col: 53}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\" onclick=\"toggleActive(this.dataset.userId)\" class=\"px-2 py-1 rounded bg-green-600 hover:bg-green-700 text-white text-xs\">Activate</button> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "<button data-user-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var18 string
				templ_7745c5c3_Var18, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 143, Col: 52}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var18))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "\" onclick=\"showCreditsModal(this.dataset.userId)\" class=\"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs\">Credits</button> <button data-user-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var19 string
				templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d", user.ID))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 150, Col: 52}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, "\" data-user-email=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var20 string
				templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(user.Email)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/admin.templ`, Line: 151, Col: 39}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, "\" onclick=\"deleteUser(this.dataset.userId, this.dataset.userEmail)\" class=\"px-2 py-1 bg-gray-700 hover:bg-gray-800 text-white rounded text-xs\">Delete</button></div></td></tr>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 35, "</tbody></table></div></div><!-- User Details Modal --> <div id=\"detailsModal\" class=\"hidden fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50\"><div class=\"relative top-20 mx-auto p-8 border w-full max-w-2xl shadow-2xl rounded-lg bg-white\"><div class=\"flex justify-between items-start mb-6\"><h3 class=\"text-2xl font-bold text-gray-900\">User Details</h3><button onclick=\"closeDetailsModal()\" class=\"text-gray-400 hover:text-gray-600 text-2xl\">&times;</button></div><div id=\"detailsContent\" class=\"space-y-4\"><div class=\"grid grid-cols-2 gap-4\"><div><label class=\"text-sm font-medium text-gray-500\">User ID</label><p id=\"detail-id\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Email</label><p id=\"detail-email\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Name</label><p id=\"detail-name\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Role</label><p id=\"detail-role\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Status</label><p id=\"detail-active\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Credits</label><p id=\"detail-credits\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Joined</label><p id=\"detail-joined\" class=\"text-lg text-gray-900\"></p></div><div><label class=\"text-sm font-medium text-gray-500\">Email Verified</label><p id=\"detail-verified\" class=\"text-lg text-gray-900\"></p></div></div></div></div></div><!-- Credits Modal --> <div id=\"creditsModal\" class=\"hidden fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50\"><div class=\"relative top-20 mx-auto p-8 border w-full max-w-lg shadow-2xl rounded-lg bg-white\"><h3 class=\"text-2xl font-bold mb-6 text-gray-900\">Manage Credits</h3><div class=\"mb-6\"><label class=\"block text-sm font-medium text-gray-700 mb-2\">Action</label> <select id=\"creditAction\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"><option value=\"add\">Add Credits</option> <option value=\"subtract\">Subtract Credits</option> <option value=\"set\">Set Credits</option></select></div><div class=\"mb-6\"><label class=\"block text-sm font-medium text-gray-700 mb-2\">Amount</label> <input type=\"number\" id=\"creditAmount\" class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg\" min=\"0\" placeholder=\"Enter amount\"></div><div class=\"flex justify-end gap-3\"><button onclick=\"closeCreditsModal()\" class=\"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 font-medium\">Cancel</button> <button onclick=\"submitCredits()\" class=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium\">Update Credits</button></div></div></div><script>\n\t\t\tlet currentUserId = null;\n\n\t\t\tfunction showDetailsModal(data) {\n\t\t\t\tdocument.getElementById('detail-id').textContent = data.userId;\n\t\t\t\tdocument.getElementById('detail-email').textContent = data.userEmail;\n\t\t\t\tdocument.getElementById('detail-name').textContent = data.userName;\n\t\t\t\tdocument.getElementById('detail-role').textContent = data.userRole.charAt(0).toUpperCase() + data.userRole.slice(1);\n\t\t\t\tdocument.getElementById('detail-credits').textContent = data.userCredits;\n\t\t\t\tdocument.getElementById('detail-joined').textContent = data.userJoined;\n\t\t\t\tdocument.getElementById('detail-verified').textContent = data.userVerified === 'true' ? 'Yes âœ“' : 'No âœ—';\n\t\t\t\t\n\t\t\t\t// Update active status in details\n\t\t\t\tconst activeElement = document.getElementById('detail-active');\n\t\t\t\tif (activeElement) {\n\t\t\t\t\tactiveElement.textContent = data.userActive === 'true' ? 'Active' : 'Inactive';\n\t\t\t\t\tactiveElement.className = data.userActive === 'true' ? \n\t\t\t\t\t\t'text-lg text-green-600 font-medium' : \n\t\t\t\t\t\t'text-lg text-red-600 font-medium';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdocument.getElementById('detailsModal').classList.remove('hidden');\n\t\t\t}\n\n\t\t\tfunction closeDetailsModal() {\n\t\t\t\tdocument.getElementById('detailsModal').classList.add('hidden');\n\t\t\t}\n\n\t\t\tfunction filterUsers() {\n\t\t\t\tconst role = document.getElementById('roleFilter').value;\n\t\t\t\tconst status = document.getElementById('statusFilter').value;\n\n\t\t\t\tlet url = '/admin/users?';\n\t\t\t\tif (role) url += 'role=' + role + '&';\n\t\t\t\tif (status) url += 'is_active=' + status;\n\n\t\t\t\twindow.location.href = '/admin' + (url.endsWith('?') ? '' : '?' + url.slice(0, -1));\n\t\t\t}\n\n\t\t\tfunction clearFilters() {\n\t\t\t\twindow.location.href = '/admin';\n\t\t\t}\n\n\t\t\tasync function updateRole(userId, newRole) {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/api/admin/users/${userId}/role`, {\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({ role: newRole }),\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\talert('Role updated successfully');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\talert('Error: ' + (data.error || 'Failed to update role'));\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\talert('Error: ' + error.message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function toggleActive(userId) {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/api/admin/users/${userId}/toggle-active`, {\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\talert('Error: ' + (data.error || 'Failed to update status'));\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\talert('Error: ' + error.message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction showCreditsModal(userId) {\n\t\t\t\tcurrentUserId = userId;\n\t\t\t\tdocument.getElementById('creditsModal').classList.remove('hidden');\n\t\t\t}\n\n\t\t\tfunction closeCreditsModal() {\n\t\t\t\tdocument.getElementById('creditsModal').classList.add('hidden');\n\t\t\t\tcurrentUserId = null;\n\t\t\t}\n\n\t\t\tasync function submitCredits() {\n\t\t\t\tconst action = document.getElementById('creditAction').value;\n\t\t\t\tconst amount = parseInt(document.getElementById('creditAmount').value);\n\n\t\t\t\tif (!amount || amount < 0) {\n\t\t\t\t\talert('Please enter a valid amount');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/api/admin/users/${currentUserId}/credits`, {\n\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\taction: action,\n\t\t\t\t\t\t\tcredits: amount\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\t// Update the credits display\n\t\t\t\t\t\tdocument.getElementById(`credits-${currentUserId}`).textContent = data.credits.credits;\n\t\t\t\t\t\tcloseCreditsModal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\talert('Error: ' + (data.error || 'Failed to update credits'));\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\talert('Error: ' + error.message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tasync function deleteUser(userId, userEmail) {\n\t\t\t\tif (!confirm(`Are you sure you want to permanently delete user \"${userEmail}\"?\\n\\nThis will delete:\\n- User account\\n- All credits\\n- All usage logs\\n- All compositions\\n\\nThis action CANNOT be undone!`)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(`/api/admin/users/${userId}`, {\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\talert('User deleted successfully');\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\talert('Error: ' + (data.error || 'Failed to delete user'));\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\talert('Error: ' + error.message);\n\t\t\t\t}\n\t\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = LayoutWithData(LayoutData{Title: "Admin Panel", IsLoggedIn: true, UserEmail: data.Email}).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
